{{> adminheader}}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="/css/product.css" type="text/css"> 



    <div class="container">
        <br>
        <a class="btn btn-warning " href="http://localhost:3000/admin/product/addproduct">Add product</a>
        <br>
        <br>
        <div class=" table-responsive">
            <table class="table table-striped table-bordered table-hover" id="users-table" >
                <thead>
                    <tr>


                        <th>Name</th>
                        <th>description</th>
                        <th>image</th>
                        <th>price</th>
                        <th>brand</th>
                        <th>quantity</th>
                        <th>action</th>

                    </tr>
                </thead>
                {{#each products}}
                <tbody>
                    <tr>
                        <!-- Table data will be dynamically generated with JavaScript -->


                        <td style="width: 250px;">{{this.name}}</td>
                        <td style="width: 360px;">{{this.description}}</td>
                        <td><img src="/images/{{this.image.[0]}}" width="100px" height="100px" alt="{{this.image}}"></td>
                        <td>{{this.price}}</td>
                        <td>{{this.brand}}</td>
                        <td>{{this.quantity}}</td>
                        {{!-- <td>{{this.category}}</td> --}}
                        {{#if this.is_blocked}}
                        <td><a class="btn btn-success" href="/admin/block/{{this._id}}">Unblock</a>&nbsp;
                        <a class="btn btn-warning" href="/admin/updateproduct?id={{this._id}}">update</a></td>
                        {{else}}
                        <td><a class="btn btn-danger" href="/admin/block/{{this._id}}">Block</a>&nbsp;
                        <a class="btn btn-warning" href="/admin/updateproduct?id={{this._id}}">update</a></td>
                        {{/if}}
                        

                    </tr>
             
                </tbody>
               
                {{/each}}
              
            </table>
        </div>
        {{!-- <input type=" hidden" name="id" value="{{products._id}}">
        <div class="row">
            <div class="col-md-6">
                <div class="dataTables_info" id="users-table_info" role="status" aria-live="polite">Showing 0 to 0 of 0
                    entries</div>
            </div>
            <div class="col-md-6">
                <div class="dataTables_paginate paging_simple_numbers" id="users-table_paginate">
                    <ul class="pagination">
                        <li class="paginate_button page-item previous disabled" id="users-table_previous">
                            <a href="#" aria-controls="users-table" data-dt-idx="0" tabindex="0"
                                class="btn btn-danger page-link">Previous</a>
                        </li>
                        <li class="paginate_button page-item next disabled" id="users-table_next">
                            <a href="#" aria-controls="users-table" data-dt-idx="3" tabindex="0"
                                class="page-link btn btn-danger">Next</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div> --}}


    <!--html popup-->


    <script>
        $(document).ready(function () {
            var table = $('#users-table').DataTable({
                "ajax": "/loaddashboard", // Replace with the API endpoint that returns user data
                "processing": true,
                "serverSide": true,
                "order": [[0, "asc"]], // Sort by ID in ascending order by default
                "columns": [
                    { "data": "name" },
                    { "data": "description" },
                    { "data": "image" },
                    { "data": "brand" },
                    { "data": "price" }
                ]
            });
        });


        let confirmDelete=
    </script>


    {{> adminfooter}}